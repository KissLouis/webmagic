<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.webmagic.dao.ISearchDao">

	<insert id="insertSearch" useGeneratedKeys="true" keyProperty="searchid"
		parameterType="com.webmagic.entity.Search">
		insert into search
		( searchId, searchName, searchCount,
		searchUrl,
		startDate,
		endDate
		)
		values (
		#{searchid,jdbcType=INTEGER},
		#{searchname,jdbcType=VARCHAR},
		#{searchcount,jdbcType=INTEGER},
		#{searchurl,jdbcType=VARCHAR},
		#{startdate,jdbcType=TIMESTAMP},
		#{enddate,jdbcType=TIMESTAMP}
		);

		<if test="listCompany.size()>0">
			insert into company
			(companyId, companyName, companyTel,
			companyEmail,
			companyWebsite,
			companyAddress,
			companySort, createDate, searchId,
			companySynopsis)
			values
			<foreach separator="," collection="listCompany" item="temp">
				(#{temp.companyid,jdbcType=VARCHAR},
				#{temp.companyname,jdbcType=VARCHAR},
				#{temp.companytel,jdbcType=VARCHAR},
				#{temp.companyemail,jdbcType=VARCHAR},
				#{temp.companywebsite,jdbcType=VARCHAR},
				#{temp.companyaddress,jdbcType=VARCHAR},
				#{temp.companysort,jdbcType=INTEGER},
				#{temp.createdate,jdbcType=TIMESTAMP}, #{searchid,jdbcType=INTEGER},
				#{temp.companysynopsis,jdbcType=LONGVARCHAR})
			</foreach>
			;

			insert into
			company_information (id, legalPerson,
			legalPersonInformation,
			registeredCapital, registrationTime,
			enterpriseState,
			businessRegistrationNumber,
			organizationCode,
			uniformCreditCode,
			enterpriseType,
			taxpayerIdentification, industry,
			businessTerm,
			approvalDate, registrationAuthority, englishName,
			registeredAddress,
			businessScope, ownershipStructure
			)
			values
			<foreach separator="," collection="listCompany" item="temp">
				(#{temp.companyid,jdbcType=INTEGER},
				#{temp.companyInformation.legalperson,jdbcType=VARCHAR},
				#{temp.companyInformation.legalpersoninformation,jdbcType=VARCHAR},
				#{temp.companyInformation.registeredcapital,jdbcType=VARCHAR},
				#{temp.companyInformation.registrationtime,jdbcType=VARCHAR},
				#{temp.companyInformation.enterprisestate,jdbcType=VARCHAR},
				#{temp.companyInformation.businessregistrationnumber,jdbcType=VARCHAR},
				#{temp.companyInformation.organizationcode,jdbcType=VARCHAR},
				#{temp.companyInformation.uniformcreditcode,jdbcType=VARCHAR},
				#{temp.companyInformation.enterprisetype,jdbcType=VARCHAR},
				#{temp.companyInformation.taxpayeridentification,jdbcType=VARCHAR},
				#{temp.companyInformation.industry,jdbcType=VARCHAR},
				#{temp.companyInformation.businessterm,jdbcType=VARCHAR},
				#{temp.companyInformation.approvaldate,jdbcType=VARCHAR},
				#{temp.companyInformation.registrationauthority,jdbcType=VARCHAR},
				#{temp.companyInformation.englishname,jdbcType=VARCHAR},
				#{temp.companyInformation.registeredaddress,jdbcType=VARCHAR},
				#{temp.companyInformation.businessscope,jdbcType=VARCHAR},
				#{temp.companyInformation.ownershipstructure,jdbcType=LONGVARCHAR}
				)
			</foreach>
			;

		</if>

	</insert>



</mapper>